<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Types &amp; Methods · RootIO.jl</title><meta name="title" content="Types &amp; Methods · RootIO.jl"/><meta property="og:title" content="Types &amp; Methods · RootIO.jl"/><meta property="twitter:title" content="Types &amp; Methods · RootIO.jl"/><meta name="description" content="Documentation for RootIO.jl."/><meta property="og:description" content="Documentation for RootIO.jl."/><meta property="twitter:description" content="Documentation for RootIO.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">RootIO.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">RootIO.jl</a></li><li><a class="tocitem" href="../examples/">Examples</a></li><li><a class="tocitem" href="../gettingstarted/">Getting Started</a></li><li class="is-active"><a class="tocitem" href>Types &amp; Methods</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Types &amp; Methods</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Types &amp; Methods</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaHEP/RootIO.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaHEP/RootIO.jl/blob/main/docs/src/typesandmethods.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Types-and-Methods"><a class="docs-heading-anchor" href="#Types-and-Methods">Types &amp; Methods</a><a id="Types-and-Methods-1"></a><a class="docs-heading-anchor-permalink" href="#Types-and-Methods" title="Permalink"></a></h1><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RootIO.TTree" href="#RootIO.TTree"><code>RootIO.TTree</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">`TTree`</code></pre><p>Type representing a <code>ROOT</code> tree. It must be used in place of the <code>TTree</code> type of the <code>ROOT</code> module.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHEP/RootIO.jl/blob/d799169d280169ac6414097b9bd9dd8eab2d015a/src/RootIO.jl#L8-L12">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RootIO.TTree-Tuple{CxxWrap.CxxWrapCore.CxxPtr{ROOT.TFile}, String, String, DataType}" href="#RootIO.TTree-Tuple{CxxWrap.CxxWrapCore.CxxPtr{ROOT.TFile}, String, String, DataType}"><code>RootIO.TTree</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">TTree(file::CxxWrap.CxxWrapCore.CxxPtr{ROOT.TFile}, name::String, title::String, rowtype)</code></pre><p>Create a ROOT TTree to store instances of a composite type, <code>rowtype</code>. Each field of the type is mapped to a TTree branch (aka column) of the same name. Each field must be annotated with its type in the declaration of <code>rowtype</code> declaration. The <a href="#ROOT.Fill-Tuple{TTree, Any}"><code>Fill</code></a> function must be used to store the instance. Each instance will be stored in a TTree entry (aka row).</p><p>Note: for convenience, providing an instance of the row type instead of the type itself is currently supported. This support might eventually be dropped if we find that it leads to confusion. The instance is used solely to retrieve the type and is not nserted in the tree. See <a href="#RootIO.TTree-Tuple{CxxWrap.CxxWrapCore.CxxPtr{ROOT.TFile}, String, String}"><code>TTree(::CxxWrap.CxxWrapCore.CxxPtr{ROOT.TFile}, ::String, ::String; columns...)</code></a> to create and fill a tree in one go.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">
using CxxWrap, ROOT, RootIO
mutable struct Event
    x::Float32
    y::Float32
    z::Float32
    v::StdVector{Float32}
end
Event()  = Event(0., 0., 0., StdVector{Float32}())

# Create the tree
f = ROOT.TFile!Open(&quot;data.root&quot;, &quot;RECREATE&quot;)
tree = RootIO.TTree(f, &quot;mytree&quot;, &quot;mytreetitle&quot;, Event)

# Fill the tree
e = Event()
for i in 1:10
    e.x, e.y, e.z = rand(3)
    n = rand(1:5)
    # Two next lines are an optimized version of e.v = rand(Float32)
    # by limiting time consuming memory allocation
    resize!(e.v, n)
    e.v .= rand(Float32)
    Fill(tree, e)
end

# Display tree contents
Scan(tree)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHEP/RootIO.jl/blob/d799169d280169ac6414097b9bd9dd8eab2d015a/src/RootIO.jl#L174-L212">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="RootIO.TTree-Tuple{CxxWrap.CxxWrapCore.CxxPtr{ROOT.TFile}, String, String}" href="#RootIO.TTree-Tuple{CxxWrap.CxxWrapCore.CxxPtr{ROOT.TFile}, String, String}"><code>RootIO.TTree</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">TTree(file::CxxWrap.CxxWrapCore.CxxPtr{ROOT.TFile}, name::String, title::String; columns...)</code></pre><p>Creates a new ROOT tree and fill it with the provided data.</p><p><strong>Arguments</strong></p><ul><li><code>file</code>: A pointer to a ROOT file where the TTree will be stored.</li><li><code>name</code>: The name of the TTree.</li><li><code>title</code>: The title of the TTree.</li><li><code>columns...</code>: column definitions passed as named argument, in the form column<em>name = column</em>content or column<em>name = element</em>type</li></ul><p><strong>Creation of an empty <code>TTree</code></strong></p><p>If the <code>columns</code> values are data types, then an empty <code>TTree</code> is created. The argument names are used for the column (aka branch) names and their value specify the type of elements to store in the column.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">using ROOT, RootIO

# Create the tree
file = ROOT.TFile!Open(&quot;example.root&quot;, &quot;RECREATE&quot;)
tree = RootIO.TTree(file, &quot;mytree&quot;, &quot;My tree&quot;; col_int = Int64, col_float = Float64)

# Display the tree definition
Print(tree)</code></pre><p><strong>Creation and filling of a <code>TTree</code></strong></p><p>If the <code>columns</code> values are vectors, a <code>TTree</code> is created and filled with the data provided in the vectors. A branch is created for each <code>columns</code> argument with the name of the argument and filled with each element of the vector provided as the argument value. All the vectors must be of the same length.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">file = ROOT.TFile!Open(&quot;example.root&quot;, &quot;RECREATE&quot;)
name = &quot;example_tree&quot;
title = &quot;Example TTree&quot;
data = (col_float=rand(Float64, 3), col_int=rand(Int32, 3))
tree = RootIO.TTree(file, name, title; data...)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHEP/RootIO.jl/blob/d799169d280169ac6414097b9bd9dd8eab2d015a/src/RootIO.jl#L234-L273">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ROOT.Fill-Tuple{TTree, Any}" href="#ROOT.Fill-Tuple{TTree, Any}"><code>ROOT.Fill</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Fill(tree::TTree, data)</code></pre><p>Append one or more rows (aka entries) to the ROOT <code>tree</code>.</p><p>Single row can be provided as an instance of a composite type or of a <code>Tuple</code>.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">using ROOT, RootIO

# Create the tree
file = ROOT.TFile!Open(&quot;example.root&quot;, &quot;RECREATE&quot;)
tree = RootIO.TTree(file, &quot;mytree&quot;, &quot;My tree&quot;; col_int = Int64, col_float = Float64)

# Fill the tree
for i in 1:10
    Fill(tree, (i, i*π))
end

# Display the tree contents
Scan(tree)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHEP/RootIO.jl/blob/d799169d280169ac6414097b9bd9dd8eab2d015a/src/RootIO.jl#L345-L368">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ROOT.GetEntries-Tuple{TTree}" href="#ROOT.GetEntries-Tuple{TTree}"><code>ROOT.GetEntries</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>GetEntries(tree)</code></p><p>Returns the number of entries (aka rows) stored in the <code>tree</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHEP/RootIO.jl/blob/d799169d280169ac6414097b9bd9dd8eab2d015a/src/RootIO.jl#L63-L68">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ROOT.Print-Tuple{TTree}" href="#ROOT.Print-Tuple{TTree}"><code>ROOT.Print</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Print(tree, options = &quot;&quot;)</code></pre><p>Print a summary of the tree contents.</p><ul><li>If option contains &quot;all&quot; friend trees are also printed.</li><li>If option contains &quot;toponly&quot; only the top level branches are printed.</li><li>If option contains &quot;clusters&quot; information about the cluster of baskets is printed.</li></ul><p>Wildcarding can be used to print only a subset of the branches, e.g., Print(tree, &quot;Elec*&quot;) will print all branches with name starting with &quot;Elec&quot;.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHEP/RootIO.jl/blob/d799169d280169ac6414097b9bd9dd8eab2d015a/src/RootIO.jl#L49-L60">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ROOT.Scan-Tuple{TTree, Vararg{Any}}" href="#ROOT.Scan-Tuple{TTree, Vararg{Any}}"><code>ROOT.Scan</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p><code>Scan(tree, varexp = &quot;&quot;, selection = &quot;&quot;, option = &quot;&quot;, nentries = -1, firstentry = 0)</code></p><p>Loop over tree entries and print entries passing selection.</p><ul><li>If varexp is 0 (or &quot;&quot;) then print only first 8 columns.</li><li>If varexp = &quot;*&quot; print all columns.</li></ul><p>Otherwise a column selection can be made using &quot;var1:var2:var3&quot;.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHEP/RootIO.jl/blob/d799169d280169ac6414097b9bd9dd8eab2d015a/src/RootIO.jl#L37-L46">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ROOT.Write-Tuple{TTree}" href="#ROOT.Write-Tuple{TTree}"><code>ROOT.Write</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Write(tree::TTree)</code></pre><p>Save the <code>tree</code> into the associated <code>ROOT</code> file. This method needs to be called to finalize the writing to disk.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaHEP/RootIO.jl/blob/d799169d280169ac6414097b9bd9dd8eab2d015a/src/RootIO.jl#L71-L76">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../gettingstarted/">« Getting Started</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Monday 16 September 2024 10:04">Monday 16 September 2024</span>. Using Julia version 1.10.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
